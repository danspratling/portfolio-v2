---
import { getCollection, render } from "astro:content"

import Layout from "@/Layout.astro"
import Logos from "@/Logos/Logos.astro"
import { Hero } from "../components/Hero/Simple"
import { ProjectShowcase } from "@/ProjectShowcase"
import { TestimonialGrid } from "@/TestimonialGrid"
import { ResourcesSection } from "@/ResourcesSection"

const testimonials = (await getCollection("testimonials")).map(testimonial => ({
  author: { ...testimonial.data, avatar: { src: testimonial.data.avatar, alt: testimonial.data.avatar } },
  testimonial: testimonial.body,
}))
---

<Layout title='Dan Spratling'>
  <Hero title="Hey, I'm Dan ðŸ‘‹ Frontend engineer" />
  <Logos />
  <ProjectShowcase
    title='Building first-class digital experiences'
    description='From design to development, startup to enterprise, I build things that look good, feel great and perform exceptionally.'
    link={{ href: "/projects", children: "See projects" }}
  />
  <TestimonialGrid
    title={content.testimonials.title}
    description={content.testimonials.description}
    testimonials={content.testimonials.testimonials}
  />
  <ResourcesSection
    title="See what I've been working on"
    description="Things I've been building, and how I've built it."
    resources={[
      {
        title: "Toolbox",
        description: "What I use to build the awesome projects I work on",
        link: { title: "Unlock my toolbox", href: "/toolbox" },
      },
      {
        title: "Blog",
        description: "Learn about my thoughts on the state of web design and development",
        link: { title: "Explore my blog", href: "/blog" },
      },
      {
        title: "Resume",
        description: "My past experience and what I can do for you.",
        link: { title: "See my resume", href: "/resume" },
      },
    ]}
  />

  <!-- Image cards -->
  <!-- About me -->
  <!-- <Features title={content.features.title} features={content.features.features} link={content.features.link} />
	<CardCta title={content.cardCta.title} description={content.cardCta.description} link={content.cardCta.link} />
	-->
</Layout>
